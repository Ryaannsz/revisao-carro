<header class="bg-blue-600 shadow-md fixed w-full z-50 h-16">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full">
    <div class="flex justify-between items-center h-full">

      <!-- Logo -->
      <div class="flex-shrink-0 text-white font-bold text-2xl">
        <a href="/carros">CarrosApp</a>
      </div>

      <!-- Menu Desktop -->
      <nav class="hidden md:flex space-x-6 text-white items-center">

        <!-- Carro -->
        <div class="relative group">
          <span class="cursor-pointer hover:text-blue-200">Carro</span>
          <div class="absolute top-full left-0 w-40 bg-white rounded shadow-lg 
           opacity-0 invisible group-hover:opacity-100 group-hover:visible 
           transition-opacity duration-200 z-50">
            <a href="/carro" class="block px-4 py-2 text-gray-700 hover:bg-blue-100">Cadastrar</a>
          </div>
        </div>

        <span><a href="/usuario/cadastrados">Usuários</a></span>

        <!-- Abastecimento -->
        <div class="relative group">
          <span class="cursor-pointer hover:text-blue-200">Abastecimento</span>
          <div class="absolute top-full left-0 w-40 bg-white rounded shadow-lg 
           opacity-0 invisible group-hover:opacity-100 group-hover:visible 
           transition-opacity duration-200 z-50">
            <a href="/abast" class="block px-4 py-2 text-gray-700 hover:bg-blue-100">Cadastrar</a>
            <a href="/abastecimento/registros" class="block px-4 py-2 text-gray-700 hover:bg-blue-100">Registros</a>
          </div>
        </div>

        <!-- Revisão -->
        <div class="relative group">
          <span class="cursor-pointer hover:text-blue-200 peer">Revisão</span>
          <div class="absolute top-full left-0 w-40 bg-white rounded shadow-lg 
           opacity-0 invisible group-hover:opacity-100 group-hover:visible 
           transition-opacity duration-200 z-50">
            <a href="/revisao/cadastrar" class="block px-4 py-2 text-gray-700 hover:bg-blue-100">Cadastrar</a>
            <a href="/revisao/registros" class="block px-4 py-2 text-gray-700 hover:bg-blue-100">Registros</a>
          </div>
        </div>

        <!-- Botão Logout -->
        <ng-container *ngIf="logado">
          <button (click)="logout()"
            class="ml-6 bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-white font-semibold transition-colors duration-200">
            Logout
          </button>
        </ng-container>

      </nav>

      <!-- Botão Hamburguer Mobile -->
      <div class="md:hidden flex items-center">
        <button (click)="toggleMenu()" class="text-white focus:outline-none">
          <svg *ngIf="!menuAberto" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
          <svg *ngIf="menuAberto" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Menu Mobile -->
  <div class="md:hidden bg-blue-500 overflow-hidden transition-all duration-300 ease-in-out"
    [ngClass]="{ 'max-h-96 opacity-100': menuAberto, 'max-h-0 opacity-0': !menuAberto }">

    <nav class="flex flex-col py-4 px-4 space-y-2 text-white">

      <!-- Carro -->
      <div>
        <div (click)="toggleSubmenu('carro')" class="font-semibold cursor-pointer flex justify-between items-center">
          Carro
          <span class="text-lg">{{ carroAberto ? '−' : '+' }}</span>
        </div>
        <div class="overflow-hidden transition-all duration-300 ease-in-out" [ngClass]="{
             'max-h-40 opacity-100 mt-2': carroAberto,
             'max-h-0 opacity-0': !carroAberto
           }">
          <a href="/carro" class="block pl-4 py-1 hover:text-blue-200">Cadastrar</a>
        </div>
      </div>

      <!-- Abastecimento -->
      <div>
        <div (click)="toggleSubmenu('abastecimento')"
          class="font-semibold cursor-pointer flex justify-between items-center">
          Abastecimento
          <span class="text-lg">{{ abastecimentoAberto ? '−' : '+' }}</span>
        </div>
        <div class="overflow-hidden transition-all duration-300 ease-in-out" [ngClass]="{
             'max-h-40 opacity-100 mt-2': abastecimentoAberto,
             'max-h-0 opacity-0': !abastecimentoAberto
           }">
          <a href="/abast" class="block pl-4 py-1 hover:text-blue-200">Cadastrar</a>
          <a href="/abastecimento/registros" class="block pl-4 py-1 hover:text-blue-200">Registros</a>
        </div>
      </div>

      <!-- Revisão -->
      <div>
        <div (click)="toggleSubmenu('revisao')" class="font-semibold cursor-pointer flex justify-between items-center">
          Revisão
          <span class="text-lg">{{ revisaoAberto ? '−' : '+' }}</span>
        </div>
        <div class="overflow-hidden transition-all duration-300 ease-in-out" [ngClass]="{
             'max-h-40 opacity-100 mt-2': revisaoAberto,
             'max-h-0 opacity-0': !revisaoAberto
           }">
          <a href="/revisao/cadastrar" class="block pl-4 py-1 hover:text-blue-200">Cadastrar</a>
          <a href="/revisao/registros" class="block pl-4 py-1 hover:text-blue-200">Registros</a>
        </div>
      </div>

      <!-- Logout Mobile -->
      <button (click)="logout()"
        class="mt-4 w-full bg-red-600 hover:bg-red-700 py-2 rounded text-white font-semibold transition-colors duration-200">
        Logout
      </button>

    </nav>
  </div>
</header>